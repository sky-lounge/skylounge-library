---
uri: sky-lounge/skylounge-library/blueprints/cloudfoundry/bosh/blueprint.yml
params:
  main_branch: main
workflows:
  development:
    jobs:
      unit-test:
        - steps:
            unit-test:
              - label: gradlew
                uri: sky-lounge/skylounge-library/steps/unit-test/gradlew/unit-test.yml
                params:
                  jvm_version: 17
              - label: nginx
                uri: sky-lounge/skylounge-library/steps/unit-test/nginx/unit-test.yml
      deploy:
        - steps:
            pre-deploy:
              - uri: sky-lounge/skylounge-library/steps/no-step/step.yml
            deploy:
              - uri: sky-lounge/skylounge-library/steps/cloudfoundry/deploy/deploy.yml
                params:
                  cf_api: "https://api.de.a9s.eu"
                  cf_username: "${{ secrets.CF_DEV_USERNAME }}"
                  cf_password: "${{ secrets.CF_DEV_PASSWORD }}"
                  cf_manifest: "dev-manifest.yml"
